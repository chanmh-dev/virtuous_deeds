{% extends 'base.html' %}
{% load static %}

{% block title %}
  <title>净罪集资</title>
{% endblock title %}

{% block additional_styles %}
<style>
	body {
		min-height: 100vh;
		background: #eaf6f6;
	}
  
	input[type=number]{
		width: 120px;
	}
	
	.category-name{
		font-size:2rem;			
	}
	
	.category-title{
		font-size:1.4rem;			
	}

  .btn{
    margin-bottom: 0.3rem;
  }
	
</style>
{% endblock %}    

{% block content %}
<div id='container1'></div>
 
<div class="container-fluid py-0" style="padding:10%">
  <!-- For Demo Purpose-->

    <h1 class="display-4 font-weight-bold">净罪集资 ({{request.user}})</h1>
    <h3 class="font-weight-bold font-italic text-muted mb-1">Accumulate merits and eliminate obstacles ({{request.user}})</h3>
	<br>
  
   <!-- First Row [Team]-->
  <h2 class="font-weight-bold mb-0 category-name">三十五佛忏</h2>
  <p class=" font-weight-bold font-italic text-muted mb-4">35 Buddhas Repentance</p>

  <div class="row pb-5 mb-4">
    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <a id="target-full-prostration"></a>
      <!-- Card-->
      <div class="card shadow-sm border-0 rounded">
        <div class="card-body p-0"><img src="{% static 'images/full_prostration.jpg' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title" >大礼拜</h5>
            <p class="font-weight-bold small text-muted">Full prostration</p>
			<div class="card-counter font-weight-bold" id="full-prostration-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2">
             
				<form action="" method="post">          
          {% csrf_token %}
          <div id="divHiddenbox" style="display: none;">
            <input name="anchor-tag" value="#target-full-prostration">
            <script>
              //document.getElementById('usernameId').value = "{{ request.user }}";
              var user = "{{ request.user }}"
              var userId = "{{ request.user.id }}"
              console.log(user)
              console.log(userId)
            </script>            
            {{form_repentance.half_prostration_counter}}
            {{form_repentance.bow_counter}}
            {{form_repentance.recitation_counter}}
          </div>
					{{form_repentance.full_prostration_counter}}
          <input type="submit" class="btn btn-info btn-sm" value="btnFullProstration" value="Add (添加)">
			  </form>

            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <a id="target-half-prostration"></a>
      <!-- Card-->
      <div class="card shadow-sm border-0 rounded">
        <div class="card-body p-0"><img src="{% static 'images/half_prostration.jpg' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">短拜</h5>
            <p class="font-weight-bold small text-muted">Half prostration</p>
			      <div class="card-counter font-weight-bold" id="half-prostration-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>	
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;">   
                <input name="anchor-tag" value="#target-half-prostration">     
                {{form_repentance.full_prostration_counter}}
                {{form_repentance.bow_counter}}
                {{form_repentance.recitation_counter}}
              </div>              
              {{form_repentance.half_prostration_counter}}
              <input type="submit" class="btn btn-info btn-sm" name="btnHalfProstration" value="Add (添加)">
            </form>			
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <a id="target-bow"></a>
      <!-- Card-->
      <div class="card shadow-sm border-0 rounded">
        <div class="card-body p-0"><img src="{% static 'images/bow.jpg' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">问讯</h5>
            <p class="font-weight-bold small text-muted">Bows</p>
			<div class="card-counter font-weight-bold" id="bow-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>			
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;">  
                <input name="anchor-tag" value="#target-bow">       
                {{form_repentance.full_prostration_counter}}
                {{form_repentance.half_prostration_counter}}
                {{form_repentance.recitation_counter}}
              </div>               
              {{form_repentance.bow_counter}}
              <input type="submit" class="btn btn-info btn-sm" name="btnBow" value="Add (添加)">
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <a id="target-recitation"></a>
      <!-- Card-->
      <div class="card shadow-sm border-0 rounded">
        <div class="card-body p-0"><img src="{% static 'images/recitation.jpg' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">念诵</h5>
            <p class="font-weight-bold small text-muted">Recitation</p>
			<div class="card-counter font-weight-bold" id="recitation-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>			
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;">  
                <input name="anchor-tag" value ="#target-recitation">       
                {{form_repentance.full_prostration_counter}}
                {{form_repentance.half_prostration_counter}}
                {{form_repentance.bow_counter}}
              </div>               
              {{form_repentance.recitation_counter}}
              <input type="submit" class="btn btn-info btn-sm" name="btnRecitation" value="Add (添加)">
            </form>			
          </div>
        </div>
      </div>
    </div>
  </div>
  
  

  <!-- Second Row [Team]-->
  <h2 class="font-weight-bold mb-0 category-name">诵经</h2>
  <p class="font-weight-bold font-italic text-muted mb-4">Sutra Recitation</p>

  <div class="row pb-5 mb-4">
    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <a id="target-mahaprajnaparamita-sutra"></a>
      <!-- Card-->
      <div class="card shadow-sm border-0 rounded">
        <div class="card-body p-0"><img src="{% static 'images/mahaprajnaparamita.jpg' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">大般若波罗蜜多经</h5>
            <p class="font-weight-bold small text-muted">Mahaprajnaparamita Sutra</p>
			<div class="card-counter font-weight-bold" id="mahaprajnaparamita-sutra-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;"> 
                <input name="anchor-tag" value="#target-mahaprajnaparamita-sutra">
                {{form_sutra_recitation.heart_sutra_counter}}        
                {{form_sutra_recitation.medicine_buddha_sutra_counter}}
                {{form_sutra_recitation.golden_light_sutra_counter}}
              </div>               
              {{form_sutra_recitation.mahaprajnaparamita_sutra_counter}}
              <input type="submit" class="btn btn-info btn-sm" name="btnMahaprajnaparamita" value="Add (添加)">
            </form>			
			
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <!-- Card-->
      <a id="target-heart-sutra"></a>
      <div class="card shadow-sm border-0 rounded">
        <div class="card-body p-0"><img src="{% static 'images/heart-sutra.jpg' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">心经</h5></h5>
            <p class="font-weight-bold small text-muted">Heart Sutra</p>
			<div class="card-counter font-weight-bold" id="heart-sutra-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;"> 
                <input name="anchor-tag" value="#target-heart-sutra">
                {{form_sutra_recitation.mahaprajnaparamita_sutra_counter}}     
                {{form_sutra_recitation.medicine_buddha_sutra_counter}}
                {{form_sutra_recitation.golden_light_sutra_counter}}
              </div>               
              {{form_sutra_recitation.heart_sutra_counter}}   
              <input type="submit" class="btn btn-info btn-sm" name="btnHeartSutra" value="Add (添加)">
            </form>	
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <a id="target-medicine-buddha-sutra"></a>
      <!-- Card-->
      <div class="card shadow-sm border-0 rounded">
        <div class="card-body p-0"><img src="{% static 'images/medicine-buddha-sutra.jpg' %}" alt="" class="w-100 card-img-top">
			<div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">药师琉璃光如来本愿功德经</h5>
            <p class="font-weight-bold small text-muted">Medicine Buddha Sutra</p>
			<div class="card-counter font-weight-bold" id="medicine-buddha-sutra-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;"> 
                <input name="anchor-tag" value="#target-medicine-buddha-sutra">
                {{form_sutra_recitation.mahaprajnaparamita_sutra_counter}}  
                {{form_sutra_recitation.heart_sutra_counter}}    
                {{form_sutra_recitation.golden_light_sutra_counter}}
              </div>               
              {{form_sutra_recitation.medicine_buddha_sutra_counter}}  
              <input type="submit" class="btn btn-info btn-sm" name="btnMedicineBuddhaSutra" value="Add (添加)">
            </form>	
			</div>
        </div>
      </div>
    </div>

    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <a id="target-golden-light-sutra"></a>
      <!-- Card-->
      <div class="card shadow-sm border-0 rounded">
        <div class="card-body p-0"><img src="{% static 'images/golden-light-sutra.jpg' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">金光明最胜王经</h5>
            <p class="font-weight-bold small text-muted">Golden Light Sutra</p>
			<div class="card-counter font-weight-bold" id="golden-light-sutra-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;"> 
                <input name="anchor-tag" value="#target-golden-light-sutra">
                {{form_sutra_recitation.mahaprajnaparamita_sutra_counter}}  
                {{form_sutra_recitation.heart_sutra_counter}}   
                {{form_sutra_recitation.medicine_buddha_sutra_counter}}  
              </div>               
              {{form_sutra_recitation.golden_light_sutra_counter}} 
              <input type="submit" class="btn btn-info btn-sm" name="btnGoldenLightSutra" value="Add (添加)">
            </form>	
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- Third Row [Profiles]-->
  <h2 class="font-weight-bold mb-0 category-name">念心咒</h2>
  <p class="font-weight-bold text-muted mb-4 ">Mantra Recitation</p>

  <div class="row pb-5 mb-4">

    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <a id="target-migtsema"></a>
      <!-- Card-->
      <div class="card rounded shadow-sm border-0">
        <div class="card-body p-0"><img src="{% static 'images/Shakyamuni_mantra.jpg' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">释迦摩尼佛心咒</h5>
            <p class="font-weight-bold small text-muted">Buddha Shakyamuni Mantra</p>
			<div class="card-counter font-weight-bold" id="migtsema-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;">
                <input name="anchor-tag" value="#target-migtsema"> 
                {{form_mantra_recitation.om_mani_padme_hum_counter}}    
                {{form_mantra_recitation.manjushri_mantra_counter}}                                                   
                {{form_mantra_recitation.green_tara_mantra_counter}}
              </div>               
              {{form_mantra_recitation.migtsema_counter}}
              <input type="submit" class="btn btn-info btn-sm" name="btnMigtsema" value="Add (添加)">
            </form>
          </div>
        </div>
      </div>
    </div>    

    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <a id="target-om-mani-padme-hum"></a>
      <!-- Card-->
      <div class="card shadow-sm border-0 rounded">
        <div class="card-body p-0"><img src="{% static 'images/six.gif' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">六字大明咒</h5>
            <p class="font-weight-bold small text-muted">Om Mani Padme Hum</p>
			<div class="card-counter font-weight-bold" id="om-mani-padme-hum-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;"> 
                <input name="anchor-tag" value="#target-om-mani-padme-hum">
                {{form_mantra_recitation.manjushri_mantra_counter}}  
                {{form_mantra_recitation.green_tara_mantra_counter}}   
                {{form_mantra_recitation.migtsema_counter}}  
              </div>               
              {{form_mantra_recitation.om_mani_padme_hum_counter}} 
              <input type="submit" class="btn btn-info btn-sm" name="btnOmManiPadmeHum" value="Add (添加)">
            </form>	
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <!-- Card-->
      <a id="target-manjushri-mantra"></a>
      <div class="card shadow-sm border-0 rounded">
        <div class="card-body p-0"><img src="{% static 'images/manju.jpg' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">文殊菩萨心咒</h5>
            <p class="font-weight-bold small text-muted">Manjushri Bodhisattva Mantra</p>
			<div class="card-counter font-weight-bold" id="manjushri-mantra-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;"> 
                <input name="anchor-tag" value="#target-manjushri-mantra">
                {{form_mantra_recitation.om_mani_padme_hum_counter}}                 
                {{form_mantra_recitation.green_tara_mantra_counter}}   
                {{form_mantra_recitation.migtsema_counter}}  
              </div>               
              {{form_mantra_recitation.manjushri_mantra_counter}} 
              <input type="submit" class="btn btn-info btn-sm" name="btnManjushriMantra" value="Add (添加)">
            </form>	
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <!-- Card-->
      <a id="target-green-tara-mantra"></a>
      <div class="card rounded shadow-sm border-0">
        <div class="card-body p-0"><img src="{% static 'images/green_tara.jpg' %}" alt="" class="w-100 card-img-top">
          <div class="p-4">
            <h5 class="font-weight-bold mb-0 category-title">绿度母咒</h5>
            <p class="font-weight-bold small text-muted">Green Tara Mantra</p>
			<div class="card-counter font-weight-bold" id="green-tara-mantra-counter" style="font-size: 35px">0</div>
            <ul class="social mb-0 list-inline mt-2"></ul>
            <form action="" method="post">
              {% csrf_token %}
              <div id="divHiddenbox" style="display: none;"> 
                <input name="anchor-tag" value="#target-green-tara-mantra">
                {{form_mantra_recitation.om_mani_padme_hum_counter}}    
                {{form_mantra_recitation.manjushri_mantra_counter}}                                 
                {{form_mantra_recitation.migtsema_counter}}  
              </div>               
              {{form_mantra_recitation.green_tara_mantra_counter}}
              <input type="submit" class="btn btn-info btn-sm" name="btnGreenTaraMantra" value="Add (添加)">
            </form>	
          </div>
        </div>
      </div>
    </div>

  </div>

</div>


<script>
	$(document).ready(function() {
    $('#full-prostration-counter').text('{{full_prostration_counter}}');
    $('#half-prostration-counter').text('{{half_prostration_counter}}');
    $('#bow-counter').text('{{bow_counter}}');
    $('#recitation-counter').text('{{recitation_counter}}');

    $('#mahaprajnaparamita-sutra-counter').text('{{mahaprajnaparamita_sutra_counter}}');
    $('#heart-sutra-counter').text('{{heart_sutra_counter}}');
    $('#medicine-buddha-sutra-counter').text('{{medicine_buddha_sutra_counter}}');
    $('#golden-light-sutra-counter').text('{{golden_light_sutra_counter}}');

    $('#om-mani-padme-hum-counter').text('{{om_mani_padme_hum_counter}}');
    $('#manjushri-mantra-counter').text('{{manjushri_mantra_counter}}');
    $('#green-tara-mantra-counter').text('{{green_tara_mantra_counter}}');
    $('#migtsema-counter').text('{{migtsema_counter}}');

    $('.card-counter').each(function () {
    $(this).prop('Counter',0).animate({
    Counter: $(this).text()
    }, {
        duration: 3000,
        easing: 'swing',
        step: function (now) {
        $(this).text(Math.ceil(now));
        }
      });
    });
	});
</script>

{% endblock content %}

{% block script_content %}

{% endblock script_content %}   


